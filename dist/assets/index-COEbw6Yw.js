(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function h(t,e="",n=!1){const i=document.createElement("button");return i.className=`btn ${e}`.trim(),i.disabled=n,t instanceof Node?i.appendChild(t):typeof t=="string"?i.textContent=t:typeof t=="object"&&t.html&&(i.innerHTML=t.html),i}function c(t){const e=document.createElement("div");return e.classList.add(t),e}function P(t,e,n=""){const i=document.createElement("img");return i.src=t,i.alt=e,i.className=`${n}-img`.trim(),i}function ae(t){const e=c("modal-container"),n=h("âœ– Close","close-modal");e.innerHTML=`
        <div class="overlay">
            <div class="modal">
                ${n.outerHTML}
                <h1>${t.name??"Unknown"}</h1>
                <p><strong>Origin:</strong> ${t.origin??"Unknown"} ${t.country_code?`(${t.country_code})`:""}</p>
                <p><strong>Life Span:</strong> ${t.life_span??"NaN"} years</p>
                <p><strong>Dog friendly (1-5):</strong> ${t.dog_friendly??"NaN"}</p>
                <p><strong>Temperament:</strong> ${t.temperament??"NaN"}</p>
                <p><strong>Description:</strong> ${t.description??"NaN"}</p>
            </div>
        </div>
    `;const i=()=>{e.remove()};return e.querySelector(".overlay").addEventListener("click",i),e.querySelector(".close-modal").addEventListener("click",i),e}const ce=(t="",e="")=>{const n=document.createElement("label");return n.htmlFor=t,n.className="label-field",n.textContent=e,n},le=(t="checkbox",e="",n="")=>{const i=document.createElement("input");return i.type=t,i.id=e,i.value=n,i.className="input-field",i},j=(t="")=>{const e=document.createElement("ul");return e.id=t,e.className="list-ul closeList",e};function z({content:t="",className:e=""}){const n=document.createElement("li");return n.className=`list-item ${e}`.trim(),t instanceof Node?n.appendChild(t):typeof t=="string"?n.textContent=t:typeof t=="object"&&t.html&&(n.innerHTML=t.html),n}const de=(t="")=>{const e=document.createElement("header");e.className="header",e.classList.add("blink");const n=document.createElement("h1");return n.textContent=t,e.appendChild(n),e},U="catFavorites";function C(){return JSON.parse(localStorage.getItem(U))||[]}function q(t){localStorage.setItem(U,JSON.stringify(t))}function pe(t,e){const n=C();n.some(i=>i.id===t)||(n.push({id:t,url:e}),q(n))}function G(t){let e=C();e=e.filter(n=>n.id!==t),q(e)}function R(t){return C().some(n=>n.id===t)}class S{constructor(e){this.id=e.id,this.url=e.url,this.width=e.width,this.height=e.height,this.breeds=(e.breeds?e.breeds:[]).map(n=>new D(n)),this.categories=(e.categories?e.categories:[]).map(n=>new K(n))}}class K{constructor(e){this.id=e.id,this.name=e.name}}class D{constructor(e){this.id=e.id,this.name=e.name,this.image=e.image?new he(e.image):null,this.country_code=e.country_code,this.temperament=e.temperament,this.origin=e.origin,this.description=e.description,this.life_span=e.life_span,this.dog_friendly=e.dog_friendly}}class he{constructor(e){this.id=e.id,this.url=e.url}}const me="https://api.thecatapi.com/v1",ue="live_HheGychxtvcpYbi6G3AZ87zKo10qZ4DLMRHppBPone3WPn73JXRl83A2FR7ogdjl";async function v(t){try{const e=await fetch(`${me}${t}`,{headers:{"x-api-key":ue}});return e.ok?await e.json():(console.error(`âŒ Error en fetchFromApi (${t}):`,e.statusText),[])}catch(e){return console.error(`âŒ Error en fetchFromApi (${t}):`,e),[]}}async function fe(t){const e=await v(`/images/search?limit=${t}`);return console.log(e),e.map(n=>new S(n))}async function ge(){return(await v("/breeds")).map(e=>new D(e))}async function Le(){return(await v("/categories")).map(e=>new K(e))}async function Ce(t,e){return(await v(`/images/search?limit=${t}&category_ids=${e}`)).map(i=>new S(i))}async function ve(t,e){return(await v(`/images/search?limit=${t}&mime_types=${e}`)).map(i=>new S(i))}const x=`
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-heart">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" />
    </svg>
`,A=`
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="icon icon-tabler icon-tabler-heart">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M12 20l-7 -7a5 5 0 0 1 7 -7a5 5 0 0 1 7 7l-7 7" />
    </svg>
`,ye=`
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-plus">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" />
        <path d="M5 12l14 0" />
    </svg>
`;function y({cats:t,containerCats:e,modal:n,currentIndex:i,blockSize:s,mode:o}){return t.slice(i,i+s).forEach(a=>{const g=c("container-cat"),L=c("Container-cat-content"),B=c("container-cat-content-img"),F=c("container-cat-content-title"),M=c("container-cat-btn"),ie=o?a.image?.url||"":a.url||"",se=P(ie,"Cat","cat"),oe=R(o?a.image?.id:a.id)?x:A,w=h({html:oe},"btn-fav");w.addEventListener("click",()=>{R(o?a.image?.id:a.id)?(G(o?a.image?.id:a.id),w.innerHTML=A):(pe(o?a.image?.id:a.id,o?a.image?.url:a.url),w.innerHTML=x)});const I=a.breeds&&a.breeds.length>0||o,_=h({html:ye},"info",!I);I&&_.addEventListener("click",()=>{const re=a.breeds?a.breeds[0]:a;n.innerHTML="",n.appendChild(ae(re))}),B.appendChild(se),L.appendChild(B),o&&(F.innerHTML=`<h2>${a.name}</h2>`,L.appendChild(F)),M.appendChild(w),M.appendChild(_),g.appendChild(L),g.appendChild(M),e.appendChild(g)}),i+s}function we({favorites:t,containerCats:e}){if(e.innerHTML="",t.length===0){e.innerHTML="<p>No favorites yet ðŸ˜¿</p>";return}t.forEach(n=>{const i=c("container-cat"),s=P(n.url,"Cat","cat"),o=h({html:x},"fav");o.addEventListener("click",()=>{G(n.id),i.remove(),C().length===0&&(e.innerHTML="<p>No favorites cats. Press any button</p>")}),i.appendChild(s),i.appendChild(o),e.appendChild(i)})}let b=null;function E({cats:t,containerCats:e,modal:n,currentIndex:i,blockSize:s,mode:o}){k();const p=()=>{const{scrollTop:a,scrollHeight:g,clientHeight:L}=document.documentElement;a+L>=g-10&&(i<t.length?i=y({cats:t,containerCats:e,modal:n,currentIndex:i,blockSize:s,mode:o}):k())};b=p,window.addEventListener("scroll",p)}function k(){b&&(window.removeEventListener("scroll",b),b=null)}const H=document.getElementById("app"),m=document.getElementById("modal");H.classList.add("welcome");const T=de("Cat Gallery"),u=c("container");u.classList.add("hidden");const f=c("container-btns"),r=c("container-cats"),J=c("container-btn-random"),Y=c("container-btn-race"),N=c("container-btn-categories"),$=c("container-btn-extension"),Z=c("container-btn-favorites"),W=h("Show Random Cats","btn-random"),X=h("Show Cats by Race","btn-race"),Q=h("Show Cats by Category","btn-category"),V=h("Show Cats by Extension","btn-extension"),ee=h("Show Favorites","btn-favorites");J.appendChild(W);Y.appendChild(X);N.appendChild(Q);$.appendChild(V);Z.appendChild(ee);f.appendChild(J);f.appendChild(Y);f.appendChild(N);f.appendChild($);f.appendChild(Z);u.appendChild(f);u.appendChild(r);H.appendChild(T);H.appendChild(u);const te=j("cat-list-category"),be=await Le();be.forEach(t=>{const e=z({content:t.name.charAt(0).toUpperCase()+t.name.slice(1),className:"filter-item"});e.id=t.id,te.appendChild(e)});N.appendChild(te);const ne=j("cat-list-extension"),Ee=["gif","jpg","jpeg","png"];Ee.forEach(t=>{const e=le("checkbox",`filter-${t}`,t),n=ce(`filter-${t}`,t.toUpperCase()),i=c("div-li");i.appendChild(e),i.appendChild(n);const s=z({content:i,className:"filter-item"});ne.appendChild(s)});$.appendChild(ne);let l=[],O=!1,d=!1;T.addEventListener("click",()=>{if(d=!1,!O){H.classList.remove("welcome"),T.classList.remove("blink"),u.classList.remove("hidden"),r.innerHTML="",O=!0;return}r.innerHTML=""});W.addEventListener("click",async()=>{if(d=!1,r.innerHTML="<p>Loading random cats...</p>",l=await fe(100),l.length===0){u.innerHTML="<p>Error: No cats found. Please try again later.</p>";return}r.innerHTML="";let t=0;const e=10;t=y({cats:l,containerCats:r,modal:m,currentIndex:t,blockSize:e,mode:d}),E({cats:l,containerCats:r,modal:m,currentIndex:t,blockSize:e,mode:d})});X.addEventListener("click",async()=>{if(d=!0,r.innerHTML="<p>Loading cats by breeds...</p>",l=await ge(),l.length===0){u.innerHTML="<p>Error: No cats found. Please try again later.</p>";return}r.innerHTML="";let t=0;const e=10;t=y({cats:l,containerCats:r,modal:m,currentIndex:t,blockSize:e,mode:d}),E({cats:l,containerCats:r,modal:m,currentIndex:t,blockSize:e,mode:d})});Q.addEventListener("click",async()=>{d=!1;const t=document.getElementById("cat-list-category");t.classList.contains("closeList")?t.classList.replace("closeList","openList"):t.classList.replace("openList","closeList"),document.querySelectorAll("#cat-list-category > .list-item").forEach(n=>{n.addEventListener("click",async()=>{t.classList.replace("openList","closeList"),r.innerHTML=`<p>Loading cats in category: ${n.textContent}...</p>`,l=await Ce(100,n.id),r.innerHTML="";let i=0;const s=10;i=y({cats:l,containerCats:r,modal:m,currentIndex:i,blockSize:s,mode:d}),E({cats:l,containerCats:r,modal:m,currentIndex:i,blockSize:s,mode:d})})})});V.addEventListener("click",async()=>{d=!1;const t=document.getElementById("cat-list-extension");t.classList.contains("closeList")?t.classList.replace("closeList","openList"):t.classList.replace("openList","closeList");const e=document.querySelectorAll("#cat-list-extension > .list-item div");e.forEach(i=>{i.firstChild.checked&&(i.firstChild.checked=!1)});let n=[];e.forEach(i=>{i.firstChild.addEventListener("change",async()=>{i.firstChild.checked?n.push(i.lastChild.textContent.toLowerCase()):n=n.filter(p=>p!==i.lastChild.textContent.toLowerCase()),n.length>0&&(r.innerHTML=`<p>Loading cats with extensions: ${n.join(",")}...</p>`,l=await ve(100,n.join(","))),r.innerHTML="";let s=0;const o=10;s=y({cats:l,containerCats:r,modal:m,currentIndex:s,blockSize:o,mode:d}),E({cats:l,containerCats:r,modal:m,currentIndex:s,blockSize:o,mode:d})})})});ee.addEventListener("click",()=>{k(),r.innerHTML="<p>Loading favorite cats...</p>";const t=C();r.innerHTML="",we({favorites:t,containerCats:r})});
